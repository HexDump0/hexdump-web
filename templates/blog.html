{% extends "_base.html" %}

{% block content %}

<main class="flex-1 flex flex-col min-h-screen px-6 md:px-12 py-16 w-full mx-auto mt-12">
    {% if paginator.pages %}
    <h2 class="text-4xl jetbrains-mono-regular mb-8">New</h2>
    <div class="flex gap-8 mb-16 flex-col md:flex-row flex-wrap">
        {% for post in paginator.pages | slice(end=2) %}
        <a href="{{ post.permalink }}"
            class="bg-zinc-800 rounded-xl p-6 w-full md:w-96 h-56 md:h-60 flex flex-col relative group transition-transform duration-300 overflow-hidden cursor-pointer no-underline">
            <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                {% for asset in post.assets %}
                {% if asset is containing("/banner.") %}
                <img src="{{ asset | replace(from=' ', to='-')}}" class="w-full h-full object-cover" alt="">
                {% endif %}
                {% endfor %}
                <div class="absolute inset-0 bg-black/67"></div>
            </div>
            <div class="flex gap-2 mb-4 relative z-10 flex-wrap">
                {% if post.taxonomies.tags %}
                {% for tag in post.taxonomies.tags %}
                <span class="bg-zinc-900/80 backdrop-blur-sm rounded-full px-3 py-1 jetbrains-mono-regular text-sm">{{ tag | title }}</span>
                {% endfor %}
                {% endif %}
            </div>
            <h3 class="text-3xl md:text-4xl jetbrains-mono-regular mt-2 relative z-10 leading-12">{{ post.title | truncate(length=25) }}</h3>
            <div class="absolute bottom-6 left-6 jetbrains-mono-regular text-xl opacity-75 z-10">
                {{ post.date | date(format="%d/%m/%y") }}
            </div>
        </a>
        {% endfor %}
    </div>

    <h2 class="text-4xl jetbrains-mono-regular mb-8">All</h2>

    <div class="flex flex-col w-full">
        {% for post in paginator.pages %}
        <a href="{{ post.permalink }}"
            class="border-b border-white py-4 md:py-6 flex items-center gap-4 md:gap-8 hover:bg-zinc-800/50 transition-colors px-4 -mx-4 cursor-pointer no-underline">
            <span class="md:text-2xl fira-code-regular text-zinc-400">{{ post.date | date(format="%d/%m/%y")}}</span>
            <span class="text-zinc-500 text-2xl md:text-3xl">â€¢</span>
            <h3 class="text-2xl md:text-3xl jetbrains-mono-regular transition-transform">{{ post.title }}</h3>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="w-screen flex-1 flex items-center justify-center">
    <p class="text-4xl text-center">No posts yet.</p>
    </div>
    {% endif %}
</main>
{% endblock content %}

{% block footer %}
    {% include "components/footer.html" %}
{% endblock footer %}